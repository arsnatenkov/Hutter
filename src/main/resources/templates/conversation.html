<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">



<head th:replace="/blocks/header.html :: header('Объявление') "></head>

<body class="scroll">

<div th:utext="${offerDisplay}" class="offer-wrapper content"></div>


<div class="content-flex">
    <div class="txt1 heading-chat"><span th:text="#{conversation.with}">Conversation with</span>
        <a class="txt1 heading-chat" th:href="@{'/?host={id}'(id=${companion.id})}">
            <span th:text="${companion.name}">Имя пользователя</span>
        </a>
    </div>
    <hr>
    <div class="force-scroll scroll">
        <div class="col-md-9 m-l-15 m-r-15">

            <div class="msg-display-wrapper" th:each="m : ${messages}">
                <div class="msg-display-header">
                    <div class="txt1">
                        <a th:replace="template.html :: messageUser(${m.sender})"></a>
                    </div>
                </div>
                <div class="msg-display-body">
                    <div class="msg-l time" th:value="${#temporals.format(m.time, 'dd.MM.yyyy')}">06.05.2021</div>
                    <div class="msg-l" th:text="${m.message}">Добрый день!</div>
                </div>
            </div>

        </div>

    </div>
    <hr>
    <div class="msg-box">
        <!--    <div class="panel panel-default msg-box">-->
        <div class="up">
            <form th:object="${newMessage}" method="POST"
                  th:action="@{'/conversation/{hostId}/{offerId}'(offerId=${offer.getId()},hostId=${companion.id})}">
                <table class="msg-hat">
                    <tr>
                        <td class="txt1 msg-head">
                            <!--                     th:text="#{conversation.new}">-->
                            Новое сообщение:
                        </td>
                        <td class="f-group-btn-wrap">
                            <button type="submit" name="submit" class="btn f-group-btn">
                                <img class="invert" alt="send" src="/images/send.svg">
                            </button>
                        </td>
                    </tr>
                </table>
                <div class="f-group wrap-input validate-input msg-validate">
                    <textarea placeholder="Введите текст" autocomplete="off" class="input scroll msg-input" rows="5" id="comment"
                              th:field="*{message}"></textarea>
<!--                    <span class="focus-input"></span>-->
                    <div th:if="${#fields.hasErrors('message')}" style="margin-bottom: 25px"
                         class="txt1 validation-message">
                        <ul class="validation">
                            <li th:each="err : ${#fields.errors('message')}" th:text="${err}">&nbsp;</li>
                        </ul>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
<br/>
<div class="name gradient hat">HUTTER</div>

<div th:insert="blocks/menu :: menu"></div>

<!--<div th:insert="blocks/menu :: menu"></div>-->

<!--<div th:replace="template.html :: navbar" ></div>-->
<!--<hr/>-->

<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div th:replace="template.html :: menu" ></div>-->

<!--        <div class="col-md-9">-->
<!--            <h2><span th:text="#{conversation.with}">Conversation with</span>-->
<!--                <a th:replace="template.html :: messageUser(${companion})"></a>-->
<!--            </h2>-->
<!--            <div class="panel panel-default" th:each="m : ${messages}">-->
<!--                <div class="panel-heading">-->
<!--                    <div class="card">-->
<!--                        <a th:replace="template.html :: messageUser(${m.sender})"></a>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="panel-body">-->
<!--                    <div class="message-left" th:value="${#temporals.format(m.time, 'dd.MM.yyyy')}">22.11.2018 12:25</div>-->
<!--                    <div class="message-left" th:text="${m.message}">Hello! How are you?</div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="panel panel-default">-->
<!--                <div class="panel-heading" th:text="#{conversation.new}">-->
<!--                    New message-->
<!--                </div>-->
<!--                <div class="panel-body">-->
<!--                    <form th:action="@{'/conversation/{id}'(id=${companion.id})}" th:object="${newMessage}" method="POST">-->
<!--                        <div class="form-group">-->
<!--                            <textarea class="form-control" rows="5" id="comment" th:field="*{message}"></textarea>-->
<!--                            <div th:if="${#fields.hasErrors('message')}" style="margin-bottom: 25px" class="text-danger">-->
<!--                                <ul>-->
<!--                                    <li th:each="err : ${#fields.errors('message')}" th:text="${err}" />-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="form-group">-->
<!--                            <button type="submit" name="submit" class="btn btn-success" >-->
<!--                                <span th:text="#{conversation.send}">Send</span> &raquo;-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <hr/>-->
<!--</div>-->

<!--<div th:replace="template.html :: footer"></div>-->

</body>
</html>